{% extends "base.html" %}
{% load static wagtailcore_tags %}

{% block body_class %}template-homepage{% endblock %}

{% block extra_css %}{% endblock extra_css %}

{% block extra_includes %}
    <div id="slider-wrapper">
        <div id="inner-slider-wrapper1">
            <div id="inner-slider-wrapper2">

                <!-- Jssor Slider Begin -->
                <div id="slider1_container">
                    <!-- Slides Container -->
                    <div id="slides" u="slides">
                        {% include 'home/includes/eventslides.html' with slides=page.event_slides.all %}
                    </div>

                    <!-- bullet navigator container -->
                    <div u="navigator" class="jssorb21" style="top: 68px;">
                        <!-- bullet navigator item prototype -->
                        <div u="prototype"></div>
                    </div>

                    <!-- Arrow Left -->
                    <span u="arrowleft" class="jssora21l" style="top: 123px; left: 8px;"></span>

                    <!-- Arrow Right -->
                    <span u="arrowright" class="jssora21r" style="top: 123px; right: 8px;"></span>
                </div>
                <!-- Jssor Slider End -->

                <!-- Begin Page Down Code -->
                <div id="page-down2" class="col-xs-12">
                    <span class="page-down-icon">
                        <picture>
                            <source srcset="{% static 'img/down-arrow.webp' %}" type="image/webp">
                            <img alt="downward-arrow" src="{% static 'img/down-arrow.png' %}" />
                        </picture>
                    </span>
                </div>
                <!-- End Page Down Code -->
            </div>
        </div>
        <!-- Begin Inner Info Div -->
        <div id="rbg-info-wrapper1">
            <div id="rbginfobg">
                <div id="rbginfo" class="row-fluid clearfix">

                    <div id="rbghours" class="col-xs-3">
                        <a href="{% slugurl 'general-info' %}" aria-label="General Information Page">
                            <div class="rbghours hover"></div>
                        </a>
                            <div id="gardenHours"></div>
                            <div id="gardenStatus"></div>
                            <div id="gardenEmphatic" class="red text-center"></div>
                            <div id="otherNotes"></div>
                    </div>

                    <div id="rbgadmission" class="col-xs-3" onclick="admissionHoverOn()">
                        <a href="{% slugurl 'general-info' %}" aria-label="General Information Page">
                            <div class="rbgadmission hover"></div>
                        </a>
                    </div>
                    <div id="rbgdirections" class="col-xs-3">
                        <a href="{% slugurl 'directions' %}" aria-label="How to get to the garden">
                            <div class="rbgdirections hover"></div>
                        </a>
                    </div>
                    <div id="rbgweather" class="col-xs-3">
                        <a href="https://www.weatherbug.com/weather-camera/?cam=SLTWK" target="_blank" aria-label="External link to weatherbug weather station with camera">
                            <div class="rbgweather hover"></div>
                        </a>
                    </div>

                    <!-- Begin Page Down Code for Slides on Mobile -->
                    <div id="page-down" class="col-xs-12">
                        <span class="page-down-icon">
                            <picture>
                                <source srcset="{% static 'img/down-arrow.webp' %}" type="image/webp">
                                <img alt="downward-arrow" src="{% static 'img/down-arrow.png' %}" />
                            </picture>
                        </span>
                    </div>
                    <!-- End Page Down Code for Slides on Mobile -->
                </div>
            </div>
        </div>
        <!-- End Inner Info Div-->
    </div>

    <!-- Dump the RBG Hours snippit info for our hours.js script to consume -->
    <div id="rbg_hours_info" style="display: none;">
        <div id="hours_override">{{ page.hours.allow_override }}</div>
        <div id="hours_man_open">{{ page.hours.garden_open|date:"g:i A" }}</div>
        <div id="hours_man_close">{{ page.hours.garden_close|date:"g:i A" }}</div>
        <!-- used default_if_none filter to prevent None from appearing literally if message not set -->
        <div id="hours_man_add_msg">{{ page.hours.additional_message|default_if_none:"" }}</div>
        <div id="hours_man_add_emph_msg">{{ page.hours.additional_emphatic_mesg|default_if_none:"" }}</div>
        <div id="hours_holiday_day">{{ page.hours.holiday_party_close_time.day }}</div>
        <div id="hours_holiday_hour">{{ page.hours.holiday_party_close_time.hour }}</div>
        <div id="hours_holiday_minute">{{ page.hours.holiday_party_close_time.minute }}</div>
        <div id="hours_gad_start">{{ page.hours.gad_start }}</div>
        <div id="hours_gad_end">{{ page.hours.gad_end }}</div>
    </div>


    <!-- End Outer Info Div -->
{% endblock %}

{% block extra_js %}
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{% static 'js/ie10-viewport-bug-workaround.js' %}"></script>
    <script src="{% static 'js/hours.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jssor.slider.mini.js' %}"></script>

    {% include 'home/includes/jssor-slideshow-js.html' %}

    {% include 'home/includes/page-down.html' %}
{% endblock %}

{% block abnormal_content %}
    <div id="rbghomebody" class="container-fluid">
        <div class="row">
            <div class="col-sm-12">
                <br />

                <div>
                    <hr class="hr-separator">
                    <div class="separator">MEDIA</div>
                </div>

                <div class="row-fluid">
                    <div class="col-sm-6">
                        <a href="{% slugurl 'whats-blooming-now' %}">
                            <picture>
                                <source srcset="{% static 'img/blog1.webp' %}" type="image/webp">
                                <img alt="Text says whats blooming over picture of several purple irises" class="hover" src="{% static 'img/blog1.jpg' %}">
                            </picture>
                        </a>
                    </div>
                    {# Social media page is the only non watail page. It's served from a view in the home app #}
                    <div class="col-sm-6">
                        <a href="/social-media">
                            <picture>
                                <source srcset="{% static 'img/socialMedia-small.webp' %}" type="image/webp">
                                <img alt="hand holding smartphone" class="hover" src="{% static 'img/socialMedia-small.png' %}">
                            </picture>
                        </a>
                    </div>
                </div>

                <br />
                <br />
                <br />

                <div>
                    <hr class="hr-separator">
                    <div class="separator">EVENTS</div>
                </div>

                <br />

                <div class="row-fluid">
                    <div class="col-sm-12">
                        <a href="{% slugurl 'calendar' %}">
                            <picture>
                                <source srcset="{% static 'img/whats-happening.webp' %}" type="image/webp">
                                <img alt="text says whats happening over picture of red butte garden amphitheater" class="hover" src="{% static 'img/whats-happening.jpg' %}">
                            </picture>
                        </a>
                    </div>
                </div>

                <br />
                <br />
                <br />


                <br />
            </div>
        </div>
    </div>
{% endblock abnormal_content %}
